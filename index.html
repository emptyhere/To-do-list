<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>To-do-list</title>
</head>

<body>

    <div>
        <input id="inp" type="text" placeholder='Enter something'>
        <button id="addBtn">Add Task</button>

        <div>
            <p>Remaining: <span id='remCount'></span></p>
            <ul id="remainList">

            </ul>
        </div>

        <div>
            <p>Done: <span id='doneCount'></span></p>
            <ul id="doneList">
            </ul>
        </div>
    </div>

    <script>
        let toDoArr = {
            remain: [

            ],
            done: [

            ]
        };

        addBtn.onclick = () => {
            let inpValue = document.getElementById('inp').value;
            console.log(inpValue);

            if (inpValue == '') {
                alert('Enter something');
            } else {
                let addElem = document.createElement("li");
                let addLable = document.createElement('label');
                let addElEdit = document.createElement('button');
                let addElDel = document.createElement('button');
                let addCheckBox = document.createElement('input');
                let addEditBox = document.createElement('input');

                addLable.innerHTML = inpValue;
                addElEdit.innerHTML = 'Edit';
                addElDel.innerHTML = 'Delete';
                addCheckBox.setAttribute('type', "checkbox");
                addElDel.setAttribute('id', 'btnDel');
                addElEdit.setAttribute('id', 'btnEdit');
                addElem.setAttribute('id', 'TaskItem');
                addLable.setAttribute('id', 'lableText');
                addLable.setAttribute('data-count', 1);

                addEditBox.setAttribute('type', 'text');
                addEditBox.setAttribute('id', 'EditBox');
                addEditBox.setAttribute('value', inpValue);
                addEditBox.style.display = 'none';

                let addingItem = document.getElementById('remainList')
                    .appendChild(addElem);
                addingItem.appendChild(addCheckBox);
                addingItem.appendChild(addLable);
                addingItem.appendChild(addEditBox);
                addingItem.appendChild(addElEdit);
                addingItem.appendChild(addElDel);



                document.getElementById('inp').value = '';

                toDoArr.remain.push(inpValue);
                setInterval( () =>{
                document.getElementById('remCount').innerHTML = 
                toDoArr.remain.length;

                document.getElementById('doneCount').innerHTML = 
                toDoArr.done.length;
                }, 100);



                addElDel.addEventListener('click', () => {
                    addingItem.parentNode.removeChild(addingItem);
                    toDoArr.remain.shift();
                });


                addCheckBox.addEventListener('click', () => {
                    doneList.appendChild(addingItem);
                    if (addCheckBox.checked == false) {
                        remainList.appendChild(addingItem);
                        addingItem.style.textDecoration = "none";

                        toDoArr.done.shift();
                        toDoArr.remain.push(document.getElementById('EditBox').value);


                    } else if (addCheckBox.checked == true) {
                        addingItem.style.textDecoration = "line-through";

                        toDoArr.remain.shift();
                        toDoArr.done.push(document.getElementById('EditBox').value);



                    }
                });

                addElEdit.addEventListener('click', () => {
                    if (addEditBox.style.display !== '') {
                        addEditBox.style.display = '';
                        addEditBox.innerHTML = 'keku';
                    } else {
                        addLable.innerHTML = document.getElementById('EditBox').value;
                        addEditBox.style.display = 'none';
                    }
                });
            }
        };
    </script>
</body>

</html>